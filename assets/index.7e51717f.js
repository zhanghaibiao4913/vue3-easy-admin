import{d as e,r as a,I as s,a as l,o,c as d,k as t,x as r,u,O as n,w as c,B as p,C as i,D as m,P as f}from"./vendor.9fa8aa7d.js";import{b as v,l as _}from"./index.abc2eddb.js";const w=c("data-v-89d9ae96");p("data-v-89d9ae96");const g={class:"page-container"},y=i(" 登录 ");m();var b=e({setup(e){const c=a(),p=a({account:"admin",password:"123456"}),i=a(!1),m=v(),b=s(),h={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},V=()=>{c.value.validate((async e=>{if(e)try{i.value=!0;const e=await _(p.value.account,p.value.password);m.setUserInfo(e.userInfo),m.setToken(e.token),b.push("/"),f({type:"success",title:"登录成功",message:`欢迎回来，${e.userInfo.name}`,showClose:!0,offset:100,duration:3e3})}finally{i.value=!1}}))};return(e,a)=>{const s=l("avatar"),m=l("el-icon"),f=l("el-input"),v=l("el-form-item"),_=l("lock"),b=l("el-button"),k=l("el-form"),I=l("el-card");return o(),d("div",g,[t(I,{class:"form-container"},{header:w((()=>[t("div",null,r(u("后台管理系统")),1)])),default:w((()=>[t(k,{ref:c,rules:h,model:p.value,size:"medium"},{default:w((()=>[t(v,{prop:"account"},{default:w((()=>[t(f,{modelValue:p.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value.account=e),placeholder:"登录账号"},{prepend:w((()=>[t(m,{size:16},{default:w((()=>[t(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),t(v,{prop:"password"},{default:w((()=>[t(f,{modelValue:p.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value.password=e),placeholder:"登录密码",type:"password",onKeyup:n(V,["enter"])},{prepend:w((()=>[t(m,{size:16},{default:w((()=>[t(_)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),t(v,null,{default:w((()=>[t(b,{type:"primary",style:{width:"100%"},loading:i.value,onClick:V},{default:w((()=>[y])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});b.__scopeId="data-v-89d9ae96";export{b as default};
