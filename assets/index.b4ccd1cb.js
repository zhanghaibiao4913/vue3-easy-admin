import{d as e,r as a,y as s,a as l,o,c as t,m as r,D as d,v as u,R as n,w as c,I as p,J as i,L as f,S as m}from"./vendor.24909798.js";import{b as v,l as _}from"./index.2d1f87c7.js";const w=c("data-v-38f7c6a6");p("data-v-38f7c6a6");const y={class:"page-container"},g=i(" 登录 ");f();var h=e({setup(e){const c=a(),p=a({account:"admin",password:"123456"}),i=a(!1),f=v(),h=s(),V={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=()=>{c.value.validate((async e=>{if(e)try{i.value=!0;const{data:e}=await _(p.value.account,p.value.password);f.setUserInfo(e),f.setToken(e.accessToken),h.push("/"),m({type:"success",title:"登录成功",message:`欢迎回来，${e.username}`,showClose:!0,offset:100,duration:3e3})}finally{i.value=!1}}))};return(e,a)=>{const s=l("avatar"),f=l("el-icon"),m=l("el-input"),v=l("el-form-item"),_=l("lock"),h=l("el-button"),k=l("el-form"),I=l("el-card");return o(),t("div",y,[r(I,{class:"form-container"},{header:w((()=>[r("div",null,d(u("后台管理系统")),1)])),default:w((()=>[r(k,{ref:c,rules:V,model:p.value},{default:w((()=>[r(v,{prop:"account"},{default:w((()=>[r(m,{modelValue:p.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value.account=e),placeholder:"登录账号"},{prepend:w((()=>[r(f,{size:16},{default:w((()=>[r(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),r(v,{prop:"password"},{default:w((()=>[r(m,{modelValue:p.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value.password=e),placeholder:"登录密码",type:"password",onKeyup:n(b,["enter"])},{prepend:w((()=>[r(f,{size:16},{default:w((()=>[r(_)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),r(v,null,{default:w((()=>[r(h,{type:"primary",style:{width:"100%"},loading:i.value,onClick:b},{default:w((()=>[g])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});h.__scopeId="data-v-38f7c6a6";export{h as default};
