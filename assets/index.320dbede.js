import{d as a,r as e,q as s,a as l,a2 as o,a3 as d,a4 as t,o as u,c as r,j as n,A as c,u as p,a5 as i,k as v,l as f,C as m,m as _,f as g,D as y,a6 as w,G as V}from"./vendor.ca0f639b.js";import{u as h,l as k}from"./index.33e5006f.js";const b=v("data-v-a28cd04e");f("data-v-a28cd04e");const j={class:"page-container"},q=m(" 登录 ");_();var U=a({setup(a){const v=e(),f=e({account:"admin",password:"123456"}),m=e(!1),_=h(),U=s(),x={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},z=()=>{v.value.validate((async a=>{if(a)try{m.value=!0;const{data:a}=await k(f.value.account,f.value.password);_.setUserInfo(a),_.setToken(a.accessToken),U.push("/"),g({message:"登录成功",type:"success"})}finally{m.value=!1}}))};return(a,e)=>{const s=l("avatar"),_=y,g=w,h=o,k=l("lock"),U=V,C=d,I=t;return u(),r("div",j,[n(I,{class:"form-container"},{header:b((()=>[n("div",null,c(p("后台管理系统")),1)])),default:b((()=>[n(C,{ref:v,rules:x,model:f.value},{default:b((()=>[n(h,{prop:"account"},{default:b((()=>[n(g,{modelValue:f.value.account,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value.account=a),placeholder:"登录账号"},{prepend:b((()=>[n(_,{size:16},{default:b((()=>[n(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(h,{prop:"password"},{default:b((()=>[n(g,{modelValue:f.value.password,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value.password=a),placeholder:"登录密码",type:"password",onKeyup:i(z,["enter"])},{prepend:b((()=>[n(_,{size:16},{default:b((()=>[n(k)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),n(h,null,{default:b((()=>[n(U,{type:"primary",style:{width:"100%"},loading:m.value,onClick:z},{default:b((()=>[q])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});U.__scopeId="data-v-a28cd04e";export{U as default};
