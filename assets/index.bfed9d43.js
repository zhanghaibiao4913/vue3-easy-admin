import{d as e,r as a,I as s,a as l,o,c as t,k as d,N as r,w as u,B as n,C as p,D as c,O as i}from"./vendor.4a31a482.js";import{b as m,l as f}from"./index.b1282d79.js";const v=u("data-v-464ed316");n("data-v-464ed316");const _={class:"page-container"},w=d("div",null,"后台管理系统",-1),g=p(" 登录 ");c();var y=e({setup(e){const u=a(),n=a({account:"admin",password:"123456"}),p=a(!1),c=m(),y=s(),h={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},V=()=>{u.value.validate((async e=>{if(e)try{p.value=!0;const e=await f(n.value.account,n.value.password);c.setUserInfo(e.userInfo),c.setToken(e.token),y.push("/"),i({type:"success",title:"登录成功",message:`欢迎回来，${e.userInfo.name}`,showClose:!0,offset:100,duration:3e3})}finally{p.value=!1}}))};return(e,a)=>{const s=l("avatar"),c=l("el-icon"),i=l("el-input"),m=l("el-form-item"),f=l("lock"),y=l("el-button"),b=l("el-form"),k=l("el-card");return o(),t("div",_,[d(k,{class:"form-container"},{header:v((()=>[w])),default:v((()=>[d(b,{ref:u,rules:h,model:n.value,size:"medium"},{default:v((()=>[d(m,{prop:"account"},{default:v((()=>[d(i,{modelValue:n.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value.account=e),placeholder:"登录账号"},{prepend:v((()=>[d(c,{size:16},{default:v((()=>[d(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),d(m,{prop:"password"},{default:v((()=>[d(i,{modelValue:n.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value.password=e),placeholder:"登录密码",type:"password",onKeyup:r(V,["enter"])},{prepend:v((()=>[d(c,{size:16},{default:v((()=>[d(f)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),d(m,null,{default:v((()=>[d(y,{type:"primary",style:{width:"100%"},loading:p.value,onClick:V},{default:v((()=>[g])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});y.__scopeId="data-v-464ed316";export{y as default};
