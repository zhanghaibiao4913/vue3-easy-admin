import{d as e,r as a,I as s,a as l,o,c as t,k as d,x as r,u,N as n,w as c,B as p,C as i,D as m,O as f}from"./vendor.4a31a482.js";import{b as v,l as _}from"./index.7cc27978.js";const w=c("data-v-89d9ae96");p("data-v-89d9ae96");const g={class:"page-container"},y=i(" 登录 ");m();var h=e({setup(e){const c=a(),p=a({account:"admin",password:"123456"}),i=a(!1),m=v(),h=s(),V={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},k=()=>{c.value.validate((async e=>{if(e)try{i.value=!0;const e=await _(p.value.account,p.value.password);m.setUserInfo(e.userInfo),m.setToken(e.token),h.push("/"),f({type:"success",title:"登录成功",message:`欢迎回来，${e.userInfo.name}`,showClose:!0,offset:100,duration:3e3})}finally{i.value=!1}}))};return(e,a)=>{const s=l("avatar"),m=l("el-icon"),f=l("el-input"),v=l("el-form-item"),_=l("lock"),h=l("el-button"),I=l("el-form"),b=l("el-card");return o(),t("div",g,[d(b,{class:"form-container"},{header:w((()=>[d("div",null,r(u("后台管理系统")),1)])),default:w((()=>[d(I,{ref:c,rules:V,model:p.value,size:"medium"},{default:w((()=>[d(v,{prop:"account"},{default:w((()=>[d(f,{modelValue:p.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>p.value.account=e),placeholder:"登录账号"},{prepend:w((()=>[d(m,{size:16},{default:w((()=>[d(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),d(v,{prop:"password"},{default:w((()=>[d(f,{modelValue:p.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value.password=e),placeholder:"登录密码",type:"password",onKeyup:n(k,["enter"])},{prepend:w((()=>[d(m,{size:16},{default:w((()=>[d(_)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),d(v,null,{default:w((()=>[d(h,{type:"primary",style:{width:"100%"},loading:i.value,onClick:k},{default:w((()=>[y])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});h.__scopeId="data-v-89d9ae96";export{h as default};
