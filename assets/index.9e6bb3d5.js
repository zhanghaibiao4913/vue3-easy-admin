import{d as e,r as a,v as s,a as l,o,c as t,k as r,B as u,u as d,P as n,w as p,G as c,H as i,I as f,Q as m}from"./vendor.1f7a87b8.js";import{b as v,l as _}from"./index.166e7405.js";const w=p("data-v-4e4a654e");c("data-v-4e4a654e");const g={class:"page-container"},y=i(" 登录 ");f();var h=e({setup(e){const p=a(),c=a({account:"admin",password:"123456"}),i=a(!1),f=v(),h=s(),V={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},b=()=>{p.value.validate((async e=>{if(e)try{i.value=!0;const e=await _(c.value.account,c.value.password);f.setUserInfo(e.userInfo),f.setToken(e.token),h.push("/"),m({type:"success",title:"登录成功",message:`欢迎回来，${e.userInfo.name}`,showClose:!0,offset:100,duration:3e3})}finally{i.value=!1}}))};return(e,a)=>{const s=l("avatar"),f=l("el-icon"),m=l("el-input"),v=l("el-form-item"),_=l("lock"),h=l("el-button"),k=l("el-form"),I=l("el-card");return o(),t("div",g,[r(I,{class:"form-container"},{header:w((()=>[r("div",null,u(d("后台管理系统")),1)])),default:w((()=>[r(k,{ref:p,rules:V,model:c.value},{default:w((()=>[r(v,{prop:"account"},{default:w((()=>[r(m,{modelValue:c.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value.account=e),placeholder:"登录账号"},{prepend:w((()=>[r(f,{size:16},{default:w((()=>[r(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),r(v,{prop:"password"},{default:w((()=>[r(m,{modelValue:c.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>c.value.password=e),placeholder:"登录密码",type:"password",onKeyup:n(b,["enter"])},{prepend:w((()=>[r(f,{size:16},{default:w((()=>[r(_)])),_:1})])),_:1},8,["modelValue","onKeyup"])])),_:1}),r(v,null,{default:w((()=>[r(h,{type:"primary",style:{width:"100%"},loading:i.value,onClick:b},{default:w((()=>[y])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});h.__scopeId="data-v-4e4a654e";export{h as default};
