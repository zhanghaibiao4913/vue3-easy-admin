import{b as e,l as a}from"./index.4dca0eaf.js";import{d as s,r as l,I as o,a as t,o as d,c as r,k as u,w as n,B as c,C as p,D as i,N as f}from"./vendor.85d7a3f8.js";const m=n("data-v-64c57d3a");c("data-v-64c57d3a");const v={class:"page-container"},_=u("div",null,"后台管理系统",-1),w=p(" 登录 ");i();var g=s({setup(s){const n=l(),c=l({account:"",password:""}),p=l(!1),i=e(),g=o(),y={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},h=()=>{n.value.validate((async e=>{if(e)try{p.value=!0;const e=await a(c.value.account,c.value.password);i.setUserInfo(e.userInfo),i.setToken(e.token),g.push("/"),f({type:"success",title:"登录成功",message:`欢迎回来，${e.userInfo.name}`,showClose:!0,offset:100,duration:3e3})}finally{p.value=!1}}))};return(e,a)=>{const s=t("avatar"),l=t("el-icon"),o=t("el-input"),i=t("el-form-item"),f=t("lock"),g=t("el-button"),V=t("el-form"),k=t("el-card");return d(),r("div",v,[u(k,{class:"form-container"},{header:m((()=>[_])),default:m((()=>[u(V,{ref:n,rules:y,model:c.value,size:"medium"},{default:m((()=>[u(i,{prop:"account"},{default:m((()=>[u(o,{modelValue:c.value.account,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value.account=e),placeholder:"登录账号"},{prepend:m((()=>[u(l,{size:16},{default:m((()=>[u(s)])),_:1})])),_:1},8,["modelValue"])])),_:1}),u(i,{prop:"password"},{default:m((()=>[u(o,{modelValue:c.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>c.value.password=e),placeholder:"登录密码",type:"password"},{prepend:m((()=>[u(l,{size:16},{default:m((()=>[u(f)])),_:1})])),_:1},8,["modelValue"])])),_:1}),u(i,null,{default:m((()=>[u(g,{type:"primary",style:{width:"100%"},onClick:h,loading:p.value},{default:m((()=>[w])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])}}});g.__scopeId="data-v-64c57d3a";export{g as default};
